<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ma Superbe App de Cuisine</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  
  <!-- Boostrap Icon -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.3/font/bootstrap-icons.min.css" integrity="sha512-dPXYcDub/aeb08c63jRq/k6GaKccl256JQy/AnOq7CAnEZ9FzSL9wSbcZkMp4R26vBsMLFYH4kQ67/bbV8XaCQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>

<!-- Custom CSS -->
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  .bg-tangerin {
      background-color: #F48E28;
  }
  .text-tangerin {
      color: #F48E28;
  }

  .bg-white {
      background-color: #FFF;
  }
  .text-white {
      color: #FFF;
  }

  .bg-black {
      background-color: #000;
  }
  .text-black {
      color: #000;
  }

  .bg-tangerine-light {
      background-color: #F5DDC4;
  }
  .text-tangerine-light {
      color: #F5DDC4;
  }

  .recherche {
    cursor: pointer;
  }

  .carousel-item img {
    max-width: 100%; /* Limite la largeur de l'image à la taille de son conteneur */
    max-height: 100vh; /* Limite la hauteur de l'image à la taille de la fenêtre du navigateur */
    min-height: 100vh; /* Limite la hauteur de l'image à la taille de la fenêtre du navigateur */
    width: auto; /* Ajuste la largeur de l'image en conséquence */
    height: auto; /* Ajuste la hauteur de l'image en conséquence */
    margin: 0 auto; /* Centre l'image horizontalement */
    display: block; /* Assure que l'image est affichée en tant que bloc */
    object-fit: cover; /* Ajuste l'image pour remplir la zone sans déformation */
    object-position: center; /* Ce{ntre l'image horizontalement */
  }

  .list-group-item  {
    background: #F5DDC4;
    color: #000;
    border: #000 1px solid;
  }
  .list-group-item:hover {
    background: #F48E28;
    color: #FFF;
  }
  .list-group-item:active {
    background: #F48E28;
    color: #FFF;
  }

  .acceuil-favoris {
    background-image: linear-gradient(to top, rgb(255, 255, 255), rgba(255, 255, 255, 0)),
    url('images/restaurant_landing.png');
    width: auto;
    height: 50vh;
  }

  .nav-item:hover {
      background-color: #F5DDC4;
      border-radius: 5px;
  } 

  .loupe:hover {
    color: #F48E28;
  } 
</style>

    <header>
      <!-- Navbar -->
    <nav class="navbar navbar-expand-lg bg-white fixed-top border-bottom border-dark">
      <div class="container">
        <!-- Logo -->
        <div class="navbar-brand" href="#">
            <img src="./images/logo_w.png" alt="Logo" style="width: 50px;">
        </div>
        
        <!-- Navbar Responsive  -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        
        <!-- Liens du Navbar -->
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav me-auto">
              <li class="nav-item">
                  <a class="nav-link" aria-current="page" href="./index.html">Accueil</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" href="./recette.html">Recettes</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link fw-bold active" href="./favoris.html">Favoris</a>
              </li>
          </ul>

          <!-- Icon recherche dans une modal -->
          <div class="recherche mx-3 my-3">
            <i class="loupe bi bi-search" data-bs-toggle="modal" data-bs-target="#modalDeRecherche"></i>
          </div>
          
          
          <!-- Bar de recherche -->
          <!-- <div class="d-flex justify-content-center align-items-center gap-3">
            <input type="text" id="myInput" class="form-control" placeholder="Recherche...">
            <button class="btn btn-outline-secondary" type="button" id="searchButton">Rechercher</button>
          </div> -->
          
          
        </div>
      </div>
    </nav>
    </header>

    <body>
      <div class="acceuil-favoris d-block"></div>


      <div class="container">
        <!-- Conteneur pour afficher les données de la recette -->
        <div id="recetteContainer" class="container mt-5"></div>
    
        <!-- Ajouter les notifications de favoris -->
        <div id="notificationFavoris" class="toast-container position-fixed top-0 end-0 p-3 mt-5"></div>
    
        <!-- Alertes Bootstrap pour aucun recette -->
        <div id="noRecipeAlert" class="alert alert-warning d-none" role="alert">
            Aucune recette disponible.
        </div>
    
        <!-- Alertes Bootstrap pour toutes les recettes supprimées -->
        <div id="allRecipesDeletedAlert" class="alert alert-info d-none" role="alert">
            Toutes les recettes ont été supprimées.
        </div>
    
        <a href="./test.html">Retour à la page test</a>
    </div>
    
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const recetteContainer = document.getElementById('recetteContainer');
        const notificationFavoris = document.getElementById('notificationFavoris');
        const noRecipeAlert = document.getElementById('noRecipeAlert');
        const allRecipesDeletedAlert = document.getElementById('allRecipesDeletedAlert');
    
        
        const allRecipeKeys = Object.keys(localStorage);
    
        if (allRecipeKeys.length > 0) {
            allRecipeKeys.forEach(key => {
                const recipeData = JSON.parse(localStorage.getItem(key));
                afficherRecette(recipeData, key);
            });
        } else {
            afficherAucuneRecetteAlert();
        }
    
        function afficherRecette(data, key) {
            var recetteDiv = document.createElement('div');
            recetteDiv.classList.add('card', 'p-3');
            recetteDiv.innerHTML = `
                <h2>${data.titre}</h2>
                <img src="${data.image}" class="img-fluid mb-3" alt="Image de la recette">
                <p class="mb-2">Prix : ${data.prix}</p>
                <button class="btn btn-danger btn-delete-recipe" data-recipe-id="${key}">Supprimer la recette</button>
            `;
            recetteContainer.appendChild(recetteDiv);
    
            document.querySelector(`[data-recipe-id="${key}"]`).addEventListener('click', function(event) {
                event.preventDefault();
                localStorage.removeItem(key);
                afficherNotification(`Recette supprimée du localStorage.`, 'warning');
                recetteDiv.remove();
    
                if (Object.keys(localStorage).length === 0) {
                    afficherAucuneRecetteAlert();
                }
            });
        }
    
        function afficherAucuneRecetteAlert() {
            noRecipeAlert.classList.remove('d-none');
        }
    
        function afficherNotification(message, type) {
            var notification = document.createElement('div');
            notification.classList.add('toast', 'show');
            notification.innerHTML = `
                <div class="toast-header bg-${type} text-white">
                    <strong class="me-auto">Notification</strong>
                    <button type="button" class="btn-close" data-bs-dismiss="toast"></button>
                </div>
                <div class="toast-body">${message}</div>
            `;
            notificationFavoris.appendChild(notification);
    
            setTimeout(function() {
                notification.classList.remove('show');
                setTimeout(function() {
                    notification.remove();
                }, 500);
            }, 3000);
        }
    });
    </script>
    


</body>        


    

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="./test.js"></script>
</html>
